function Swipe(a,b){"use strict";function c(){o=r.children,p=new Array(o.length),q=a.getBoundingClientRect().width||a.offsetWidth,r.style.width=o.length*q+"px";for(var b=o.length;b--;){var c=o[b];c.style.width=q+"px",c.setAttribute("data-index",b),n.transitions&&(c.style.left=b*-q+"px",g(b,s>b?-q:b>s?q:0,0))}n.transitions||(r.style.left=s*-q+"px"),a.style.visibility="visible"}function d(){s?f(s-1):b.continuous&&f(o.length-1)}function e(){s<o.length-1?f(s+1):b.continuous&&f(0)}function f(a,c){if(s!=a){if(c=void 0!=c?c:t,n.transitions){for(var d=Math.abs(s-a)-1,e=Math.abs(s-a)/(s-a);d--;)g((a>s?a:s)-d-1,q*e,0);g(s,q*e,c),g(a,0,c)}else i(s*-q,a*-q,c);s=a,m(b.callback&&b.callback(s,o[s]))}}function g(a,b,c){h(a,b,c),p[a]=b}function h(a,b,c){var d=o[a],e=d&&d.style;e&&(e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=c+"ms",e.webkitTransform="translate("+b+"px,0)translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateX("+b+"px)")}function i(a,c,d){if(!d)return void(r.style.left=c+"px");var e=+new Date,f=setInterval(function(){var g=+new Date-e;return g>d?(r.style.left=c+"px",w&&j(),b.transitionEnd&&b.transitionEnd.call(event,s,o[s]),void clearInterval(f)):void(r.style.left=(c-a)*(Math.floor(g/d*100)/100)+a+"px")},4)}function j(){u=setTimeout(e,w)}function k(){w=0,clearTimeout(u)}var l=function(){},m=function(a){setTimeout(a||l,0)},n={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(a){var b=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var c in b)if(void 0!==a.style[b[c]])return!0;return!1}(document.createElement("swipe"))};if(a){var o,p,q,r=a.children[0];b=b||{};var s=parseInt(b.startSlide,10)||0,t=b.speed||300;b.continuous=b.continuous?b.continuous:!0;var u,v,w=b.auto||0,x={},y={},z={handleEvent:function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":m(this.end(a));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":m(this.transitionEnd(a));break;case"resize":m(c.call())}b.stopPropagation&&a.stopPropagation()},start:function(a){var b=a.touches[0];x={x:b.pageX,y:b.pageY,time:+new Date},v=void 0,y={},r.addEventListener("touchmove",this,!1),r.addEventListener("touchend",this,!1)},move:function(a){if(!(a.touches.length>1||a.scale&&1!==a.scale)){b.disableScroll&&a.preventDefault();var c=a.touches[0];y={x:c.pageX-x.x,y:c.pageY-x.y},"undefined"==typeof v&&(v=!!(v||Math.abs(y.x)<Math.abs(y.y))),v||(a.preventDefault(),k(),y.x=y.x/(!s&&y.x>0||s==o.length-1&&y.x<0?Math.abs(y.x)/q+1:1),h(s-1,y.x+p[s-1],0),h(s,y.x+p[s],0),h(s+1,y.x+p[s+1],0))}},end:function(){var a=+new Date-x.time,c=Number(a)<250&&Math.abs(y.x)>20||Math.abs(y.x)>q/2,d=!s&&y.x>0||s==o.length-1&&y.x<0,e=y.x<0;v||(c&&!d?(e?(g(s-1,-q,0),g(s,p[s]-q,t),g(s+1,p[s+1]-q,t),s+=1):(g(s+1,q,0),g(s,p[s]+q,t),g(s-1,p[s-1]+q,t),s+=-1),b.callback&&b.callback(s,o[s])):(g(s-1,-q,t),g(s,0,t),g(s+1,q,t))),r.removeEventListener("touchmove",z,!1),r.removeEventListener("touchend",z,!1)},transitionEnd:function(a){parseInt(a.target.getAttribute("data-index"),10)==s&&(w&&j(),b.transitionEnd&&b.transitionEnd.call(a,s,o[s]))}};return c(),w&&j(),n.addEventListener?(n.touch&&r.addEventListener("touchstart",z,!1),n.transitions&&(r.addEventListener("webkitTransitionEnd",z,!1),r.addEventListener("msTransitionEnd",z,!1),r.addEventListener("oTransitionEnd",z,!1),r.addEventListener("otransitionend",z,!1),r.addEventListener("transitionend",z,!1)),window.addEventListener("resize",z,!1)):window.onresize=function(){c()},{setup:function(){c()},slide:function(a,b){f(a,b)},prev:function(){k(),d()},next:function(){k(),e()},getPos:function(){return s},kill:function(){k(),r.style.width="auto",r.style.left=0;for(var a=o.length;a--;){var b=o[a];b.style.width="100%",b.style.left=0,n.transitions&&h(a,0,0)}n.addEventListener?(r.removeEventListener("touchstart",z,!1),r.removeEventListener("webkitTransitionEnd",z,!1),r.removeEventListener("msTransitionEnd",z,!1),r.removeEventListener("oTransitionEnd",z,!1),r.removeEventListener("otransitionend",z,!1),r.removeEventListener("transitionend",z,!1),window.removeEventListener("resize",z,!1)):window.onresize=null}}}}if(function(){var a,b,c,d=!1,e="animation",f=prefix="-webkit-",g=["Webkit","Moz","O","ms","Khtml"];$(function(){var a=document.body;if(void 0!==a.style.animationName&&(d=!0),d===!1)for(var b=0;b<g.length;b++)if(void 0!==a.style[g[b]+"AnimationName"]){prefix=g[b],e=prefix+"Animation",f="-"+prefix.toLowerCase()+"-",d=!0;break}}),a=function(a){return $("<style>").attr({"class":"keyframe-style",id:a.id,type:"text/css"}).appendTo("head")},$.keyframe={getVendorPrefix:function(){return f},isSupported:function(){return d},generate:function(b){var c,d,g,h,i,j;h=b.name||"",g="@"+f+"keyframes "+h+" {";for(j in b)if("name"!==j){g+=j+" {";for(i in b[j])g+=i+":"+b[j][i]+";";g+="}"}g+="}",d=$("style#"+b.name),d.length>0?(d.html(g),c=$("*").filter(function(){this.style[""+e+"Name"]===h}),c.each(function(){var a,b;a=$(this),b=a.data("keyframeOptions"),a.resetKeyframe(function(){a.playKeyframe(b)})})):a({id:h}).append(g)},define:function(a){if(!a.length)return this.generate(a);for(var b=0;b<a.length;b++){var c=a[b];this.generate(c)}}},b="animation-play-state",c="running",$.fn.resetKeyframe=function(a){$(this).css(f+b,c).css(f+"animation","none");a&&setTimeout(a,1)},$.fn.pauseKeyframe=function(){$(this).css(f+b,"paused")},$.fn.resumeKeyframe=function(){return $(this).css(f+b,c)},$.fn.playKeyframe=function(a,d){var e,g,h,i,j,k;if("string"==typeof a){var l=a.trim().split(" ");a={name:l[0],duration:parseInt(l[1]),timingFunction:l[2],delay:parseInt(l[3]),repeat:l[4],direction:l[5],fillMode:l[6],complete:d}}a=$.extend({duration:0,timingFunction:"ease",delay:0,repeat:1,direction:"normal",fillMode:"forwards",complete:d},a),i=a.duration,h=a.delay,k=a.repeat,e=""+a.name+" "+i+"ms "+a.timingFunction+" "+h+"ms "+k+" "+a.direction+" "+a.fillMode,d=a.complete,g=f+"animation",j=["webkit","moz","MS","o",""];var m=function(a,b,c){var d,e,f;for(e=0,f=[];e<j.length;)j[e]||(b=b.toLowerCase()),d=j[e]+b,a.off(d).on(d,c),f.push(e++)};return this.each(function(){var h=$(this).addClass("boostKeyframe").css(f+b,c).css(g,e).data("keyframeOptions",a);d&&(m(h,"AnimationIteration",d),m(h,"AnimationEnd",d))}),this},a({id:"boost-keyframe"}).append(" .boostKeyframe{"+f+"transform:scale3d(1,1,1);}")}.call(this),!function(){window.bg_start=function(){function a(){function a(a,b,c,d){var e=a+c*Math.cos(d),f=b+c*Math.sin(d);return{x:e,y:f}}function b(a,b){return a+Math.random()*(b-a)}function c(a){return a/180*Math.PI}function d(){var a=i.create(b(l/2,l),b(0,m/2),0,0);a.setSpeed(b(r.min,r.max)),a.setHeading(c(q)),a.radius=y,a.opacity=0,a.trailLengthDelta=0,a.isSpawning=!0,a.isDying=!1,o.push(a)}function e(a){setTimeout(function(){a.isDying=!0},v)}function f(){if(!z){k.clearRect(0,0,l,m);for(var a=0;a<n.length;a+=1){var b=n[a];b.update(),g(b),b.x>l&&(b.x=0),b.x<0&&(b.x=l),b.y>m&&(b.y=0),b.y<0&&(b.y=m)}for(a=0;a<o.length;a+=1){var c=o[a];c.isSpawning&&(c.opacity+=s,c.opacity>=1&&(c.isSpawning=!1,e(c))),c.isDying&&(c.opacity-=s,c.opacity<=0&&(c.isDying=!1,c.isDead=!0)),c.trailLengthDelta+=t,c.update(),c.opacity>0&&h(c)}for(a=o.length-1;a>=0;a--)o[a].isDead&&o.splice(a,1)}requestAnimationFrame(f)}function g(a){k.fillStyle="rgb(65, 77, 92)",k.beginPath(),k.arc(a.x,a.y,a.radius,0,2*Math.PI,!1),k.fill()}function h(b){var c=b.x,d=b.y,e=w*b.trailLengthDelta,f=a(c,d,-e,b.getHeading());k.fillStyle="rgba(255, 255, 255, "+b.opacity+")";var g=5;k.beginPath(),k.moveTo(c-1,d+1),k.lineTo(c,d+g),k.lineTo(c+1,d+1),k.lineTo(c+g,d),k.lineTo(c+1,d-1),k.lineTo(c,d+1),k.lineTo(c,d-g),k.lineTo(c-1,d-1),k.lineTo(c-g,d),k.lineTo(c-1,d+1),k.lineTo(c-g,d),k.closePath(),k.fill(),k.fillStyle="rgba(255, 221, 157, "+b.opacity+")",k.beginPath(),k.moveTo(c-1,d-1),k.lineTo(f.x,f.y),k.lineTo(c+1,d+1),k.closePath(),k.fill()}for(var i={x:0,y:0,vx:0,vy:0,radius:0,create:function(a,b,c,d){var e=Object.create(this);return e.x=a,e.y=b,e.vx=Math.cos(d)*c,e.vy=Math.sin(d)*c,e},getSpeed:function(){return Math.sqrt(this.vx*this.vx+this.vy*this.vy)},setSpeed:function(a){var b=this.getHeading();this.vx=Math.cos(b)*a,this.vy=Math.sin(b)*a},getHeading:function(){return Math.atan2(this.vy,this.vx)},setHeading:function(a){var b=this.getSpeed();this.vx=Math.cos(a)*b,this.vy=Math.sin(a)*b},update:function(){this.x+=this.vx,this.y+=this.vy}},j=document.getElementById("canvas"),k=j.getContext("2d"),l=j.width=window.innerWidth,m=j.height=window.innerHeight,n=[],o=[],p=[{speed:.01,scale:.2,count:10},{speed:.03,scale:.5,count:10},{speed:.05,scale:.75,count:10}],q=135,r={min:8,max:15},s=.01,t=.01,u=4e3,v=400,w=200,x=2,y=3,z=!1,A=0;A<p.length;A+=1)for(var B=p[A],C=0;C<B.count;C+=1){var D=i.create(b(0,l),b(0,m),0,0);D.radius=x*B.scale,D.setSpeed(B.speed),D.setHeading(c(q)),n.push(D)}f(),setInterval(function(){z||d()},u),window.onfocus=function(){z=!1},window.onblur=function(){z=!0}}a()}}(Zepto),"undefined"==typeof Zepto)throw new Error("Parallax.js's script requires Zepto");!function(a){function b(){x.loading?a(".wrapper").append('<div class="parallax-loading"><i class="ui-loading ui-loading-white"></i></div>'):A=!1,q=0,y="stay",r=v.length,s=a(window).width(),t=a(window).height(),w=a("[data-animation]");for(var b=0;r>b;b++)a(v[b]).attr("data-id",b+1);u.addClass(x.direction).addClass(x.swipeAnim),v.css({width:s+"px",height:t+"px"}),"horizontal"===x.direction?u.css("width",s*v.length):u.css("height",t*v.length),"cover"===x.swipeAnim&&(u.css({width:s,height:t}),v[0].style.display="block"),x.loading||(a(v[q]).addClass("current"),x.onchange(q,v[q],y),j())}function c(a){return A===!0?(event.preventDefault(),!1):(z=!0,m="horizontal"===x.direction?a.pageX:a.pageY,"default"===x.swipeAnim&&(u.addClass("drag"),p=u.css("-webkit-transform").replace("matrix(","").replace(")","").split(","),p=parseInt("horizontal"===x.direction?p[4]:p[5])),"cover"===x.swipeAnim&&x.drag&&v.addClass("drag"),void(o=1))}function d(a){return A===!0||z===!1?(event.preventDefault(),!1):(event.preventDefault(),n="horizontal"===x.direction?a.pageX:a.pageY,h(),x.drag&&!i()&&f(),void(o=2))}function e(b){A===!0||2!==o||(z=!1,n="horizontal"===x.direction?b.pageX:b.pageY,"default"!==x.swipeAnim||i()?"cover"!==x.swipeAnim||i()||(Math.abs(n-m)<=50&&n>=m&&x.drag?(g(q,"keep-backward"),y="stay"):Math.abs(n-m)<=50&&m>n&&x.drag?(g(q,"keep-forward"),y="stay"):Math.abs(n-m)>50&&n>=m&&x.drag?(g(q-1,"backward"),y="backward"):Math.abs(n-m)>50&&m>n&&x.drag?(g(q+1,"forward"),y="forward"):Math.abs(n-m)>50&&n>=m&&!x.drag?(g(q-1,"backward"),y="backward"):Math.abs(n-m)>50&&m>n&&!x.drag&&(g(q+1,"forward"),y="forward")):(u.removeClass("drag"),Math.abs(n-m)<=50?(g(q),y="stay"):n>=m?(g(q-1),y="backward"):m>n&&(g(q+1),y="forward")),x.indicator&&a(a(".parallax-h-indicator ul li, .parallax-v-indicator ul li").removeClass("current").get(q)).addClass("current"),o=3)}function f(){if("default"===x.swipeAnim){var b=p+n-m;"horizontal"===x.direction?u.css("-webkit-transform","matrix(1, 0, 0, 1, "+b+", 0)"):u.css("-webkit-transform","matrix(1, 0, 0, 1, 0, "+b+")")}else if("cover"===x.swipeAnim){var b=n-m,c=a(v[q-1]),d=a(v[q+1]);a(v).css({"z-index":0}),"horizontal"===x.direction&&n>=m?c.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(b-s)+"px)"}):"horizontal"===x.direction&&m>n?d.css({"z-index":2,display:"block","-webkit-transform":"translateX("+(s+b)+"px)"}):"vertical"===x.direction&&n>=m?c.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(b-t)+"px)"}):"vertical"===x.direction&&m>n&&d.css({"z-index":2,display:"block","-webkit-transform":"translateY("+(t+b)+"px)"})}}function g(b,c){if(q=b,"default"===x.swipeAnim){var d=0;d="horizontal"===x.direction?b*-s:b*-t,u.css("horizontal"===x.direction?{"-webkit-transform":"matrix(1, 0, 0, 1, "+d+", 0)"}:{"-webkit-transform":"matrix(1, 0, 0, 1, 0, "+d+")"})}else"cover"===x.swipeAnim&&("keep-backward"===c&&x.drag?(v.removeClass("drag"),a(v[q-1]).css("horizontal"===x.direction?{"-webkit-transform":"translateX(-100%)"}:{"-webkit-transform":"translateY(-100%)"})):"keep-forward"===c&&x.drag?(v.removeClass("drag"),a(v[q+1]).css("horizontal"===x.direction?{"-webkit-transform":"translateX(100%)"}:{"-webkit-transform":"translateY(100%)"})):"forward"===c&&x.drag?(v.removeClass("drag"),a(v[q-1]).addClass("back"),v[q].style.webkitTransform="translate(0, 0)"):"backward"===c&&x.drag?(v.removeClass("drag"),a(v[q+1]).addClass("back"),v[q].style.webkitTransform="translate(0, 0)"):"forward"!==c||x.drag?"backward"!==c||x.drag||(u.addClass("animate"),a(v[q+1]).addClass("back"),a(v[q]).addClass("front").show()):(u.addClass("animate"),a(v[q-1]).addClass("back"),a(v[q]).addClass("front").show()));A=!0,setTimeout(function(){A=!1},300)}function h(){"horizontal"===x.direction?n>=m?u.removeClass("forward").addClass("backward"):m>n&&u.removeClass("backward").addClass("forward"):n>=m?u.removeClass("forward").addClass("backward"):m>n&&u.removeClass("backward").addClass("forward")}function i(){if("horizontal"===x.direction){if(n>=m&&0===q||m>=n&&q===r-1)return!0}else if(n>=m&&0===q||m>=n&&q===r-1)return!0;return!1}function j(){w.css({"-webkit-animation":"none",display:"none"}),a(".current [data-animation]").each(function(b,c){var d=a(c),e=d.attr("data-animation"),f=d.attr("data-duration")||500,g=d.attr("data-timing-function")||"ease",h=d.attr("data-delay")?d.attr("data-delay"):0;$fillmode=d.attr("data-fillmode")?d.attr("data-fillmode"):"both","followSlide"===e&&("horizontal"===x.direction&&"forward"===y?e="followSlideToLeft":"horizontal"===x.direction&&"backward"===y?e="followSlideToRight":"vertical"===x.direction&&"forward"===y?e="followSlideToTop":"vertical"===x.direction&&"backward"===y&&(e="followSlideToBottom")),d.css({display:"block","-webkit-animation-name":e,"-webkit-animation-duration":f+"ms","-webkit-animation-timing-function":"ease","-webkit-animation-timing-function":g,"-webkit-animation-delay":h+"ms","-webkit-animation-fill-mode":$fillmode})})}var k=a("body").width(),l=a("body").height();a.keyframe.define([{name:"slideToTop","0%":{"-webkit-transform":"translate3d(0, "+l+"px, 0)"},"100%":{"-webkit-transform":"translate3d(0, 0px, 0)"}}]),a.keyframe.define([{name:"slideToBottom","0%":{"-webkit-transform":"translate3d(0, -"+l+"px, 0)"},"100%":{"-webkit-transform":"translate3d(0, 0px, 0)"}}]),a.keyframe.define([{name:"slideToLeft","0%":{"-webkit-transform":"translate3d( "+k+"px,0px, 0)"},"100%":{"-webkit-transform":"translate3d(0, 0px, 0)"}}]),a.keyframe.define([{name:"slideToRight","0%":{"-webkit-transform":"translate3d( -"+k+"px,0px, 0)"},"100%":{"-webkit-transform":"translate3d(0, 0px, 0)"}}]),a.keyframe.define([{name:"followSlideToBottom","0%":{"-webkit-transform":"translate3d(0, -"+l+"px, 0)"},"100%":{"-webkit-transform":"translate3d(0, 0px, 0)"}}]),a.keyframe.define([{name:"followSlideToTop","0%":{"-webkit-transform":"translate3d(0, "+l+"px, 0);"},"100%":{"-webkit-transform":"translate3d(0, 0px, 0);"}}]);var m,n,o,p,q,r,s,t,u,v,w,x,y="forward",z=!1,A=!0;a.fn.parallax=function(c){return x=a.extend({},a.fn.parallax.defaults,c),this.each(function(){u=a(this),v=u.find(".page"),b()})},a.fn.parallax.defaults={direction:"vertical",swipeAnim:"default",drag:!0,loading:!1,indicator:!1,arrow:!1,onchange:function(){},orientationchange:function(){}},a(document).on("touchstart",".page",function(a){c(a.changedTouches[0])}).on("touchmove",".page",function(a){d(a.changedTouches[0])}).on("touchend",".page",function(a){e(a.changedTouches[0])}).on("webkitAnimationEnd webkitTransitionEnd",".pages",function(){"stay"!==y&&(setTimeout(function(){a(".back").hide().removeClass("back"),a(".front").show().removeClass("front"),u.removeClass("forward backward animate")},10),a(v.removeClass("current").get(q)).addClass("current"),x.onchange(q,v[q],y),j())}),a(".page *").on("webkitAnimationEnd",function(){event.stopPropagation()}),a(window).on("load",function(){if(x.loading&&(a(".parallax-loading").remove(),A=!1,a(v[q]).addClass("current"),x.onchange(q,v[q],y),j()),x.indicator){A=!1;var b="horizontal"===x.direction?"parallax-h-indicator":"parallax-v-indicator";a(".wrapper").append("<div class="+b+"></div>");for(var c="<ul>",d=1;r>=d;d++)c+=1===d?'<li class="current"></li>':"<li></li>";c+="</ul>",a("."+b).append(c)}x.arrow&&(v.append('<span class="parallax-arrow"></span>'),a(v[r-1]).find(".parallax-arrow").remove())}),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",function(){(180===window.orientation||0===window.orientation)&&x.orientationchange("portrait"),(90===window.orientation||-90===window.orientation)&&x.orientationchange("landscape")},!1),window.slideTo=function(b){var c=a(window).height();q=b,y="forward",a(".pages").css({"-webkit-transition-duration":"0ms","transition-duration":"0ms"}),a(".pages").css({"-webkit-transform":"matrix(1, 0, 0, 1, 0, -"+c*b+")"}),a(v.removeClass("current").get(q)).addClass("current"),j(),setTimeout(function(){a(".pages").css({"-webkit-transition-duration":"400ms","transition-duration":"400ms"})},300)},window.moveTo=function(b){q=b;var c=a(window).height();a(".pages").css({"-webkit-transform":"matrix(1, 0, 0, 1, 0, -"+c*b+")"})}}(Zepto),(window.jQuery||window.Zepto)&&!function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new Swipe(a(this)[0],b))})}}(window.jQuery||window.Zepto),!function(a){window.page=function(){function b(a,b){e=a.pageY,j=b.height()+50,g=b.css("-webkit-transform").replace("matrix(","").replace(")","").split(","),g=parseInt(g[5])||0}function c(a,b){j=b.height()+50,h=i.css("-webkit-transform").replace("matrix(","").replace(")","").split(","),h=Math.abs(parseInt(h[5])||0),d=a.pageY,j>k&&e>d?(f=g+d-e,Math.abs(f)<=j-k&&(event.preventDefault(),event.stopPropagation(),b.css("-webkit-transform","matrix(1, 0, 0, 1, 0, "+f+")"))):0>f&&d>=e&&(event.preventDefault(),event.stopPropagation(),f=g+d-e,b.css("-webkit-transform","matrix(1, 0, 0, 1, 0, "+f+")"))}a(".pages").parallax({direction:"vertical",swipeAnim:"default",drag:!0,loading:!1,indicator:!1,arrow:!1,onchange:function(b){(2!==b||3!==b||8!==b)&&a(".content").css("-webkit-transform","none");var c=a(".pages .page").index(a(".page-game"));b==c&&setTimeout(function(){},2e3)},orientationchange:function(){}}),window.sliderTo=function(){var b=a(window).height();a(".pages").css({"-webkit-transition-duration":"0ms","transition-duration":"0ms"}),a(".pages").css({"-webkit-transform":"matrix(1, 0, 0, 1, 0, -"+b*timeIndex+")"}),setTimeout(function(){a(".pages").css({"-webkit-transition-duration":"400ms","transition-duration":"400ms"})},300)},window.moveTo=function(){var b=a(window).height();a(".pages").css({"-webkit-transform":"matrix(1, 0, 0, 1, 0, -"+b*timeIndex+")"})};var d,e,f,g,h,i=a(".pages"),j=0,k=a(window).height();a(".page-timeline").on("touchstart",function(){b(event.changedTouches[0],a(this).find(a(".content")))}).on("touchmove",function(){c(event.changedTouches[0],a(this).find(a(".content")))}),a(".page-speaker").on("touchstart",function(){b(event.changedTouches[0],a(this).find(a(".content")))}).on("touchmove",function(){c(event.changedTouches[0],a(this).find(a(".content")))}),a(".page-history").on("touchstart",function(){b(event.changedTouches[0],a(this).find(a(".content")))}).on("touchmove",function(){c(event.changedTouches[0],a(this).find(a(".content")))}),a("#btn-invite").tap(function(){return ISSENDER?(a(".m-weixinShareLayer").show(),!1):void(location.href=a(this).attr("href"))});var l=null;l=Swipe(document.getElementById("slider"),{auto:!1,callback:function(){}}),a(".popback").tap(function(){a(".guest-pop").addClass("hide")}),a(".speaker-list li").tap(function(){var b=a(".speaker-list li").index(a(this));a(".guest-pop").removeClass("hide"),l.slide(b,0)}),a(".u-guidePrev").tap(function(){l.prev()}),a(".u-guideNext").tap(function(){l.next()})}}(Zepto),!function(a){function b(a){return a.preventDefault(),!1}function c(c){if(0==j.isTrigger&&ISSENDER&&0!=c){var e={isSender:ISSENDER,status:c,key:KEY,timer:j.timeRemain};d(e,j.isFirst),j.isFirst=!1,k.start(j.timeRemain)}0==c?(a(".pages").off("touchmove",b),showTips(1)):1==c||2==c?showTips(2):3==c&&showTips(3)}function d(b,c){a.post(APP+"/Home/data/",b,function(b){return function(c){var c=JSON.parse(c);return e(ISSENDER?c.to:c.from),"success"==c.status?(clearInterval(j.interval),setTimeout(function(){f(c.status)},500),!0):"matched"==c.status?(f(c.status),clearInterval(j.interval),!1):"timeout"==c.status?(f(c.status),clearInterval(j.interval),!1):(b||(j.isTrigger=!0),void("noyet"==c.status?j.isTrigger=!1:b&&!ISSENDER&&(j.timeRemain=c.timer,j.timeRemain<180&&(j.isFirst=!1),a(".count-down").html(j.timeRemain))))}}(c))}function e(a){ISSENDER?(h.eq(0).removeClass("on"),h.eq(1).removeClass("on"),1==a?h.eq(0).addClass("on"):2==a?h.eq(1).addClass("on"):3==a&&(h.eq(0).addClass("on"),h.eq(1).addClass("on"))):(h.eq(2).removeClass("on"),h.eq(3).removeClass("on"),1==a?h.eq(2).addClass("on"):2==a?h.eq(3).addClass("on"):3==a&&(h.eq(2).addClass("on"),h.eq(3).addClass("on")))}function f(b){j.isDone||(j.isDone=!0,a("#tips-result").html("timeout"==b?g.timeout:"matched"==b&&3!=b?g["matched-other"]:"matched"==b?g.matched:g.matched),a(".game-content").addClass("game-hide"),ISSENDER?"timeout"==b?(a("#tips-result").html(g["timeout-my"]),a("#btn-getcode").html("重新获得直播码"),a("#helper-success").addClass("success-show")):a("#sender-success").addClass("success-show"):a("#helper-success").addClass("success-show"))}var g={done:"您的好友已经抢到<br/>WE大会视频直播码！",timeout:"亲，您的活动邀请已失效，</br>赶快联系好友重新发送吧！","timeout-my":"亲，您的活动邀请已失效，</br>点击下面的按钮重新发送吧！",matched:"亲，您已经帮您的的好友获得了</br>WE大会直播码了！","matched-other":"您的好友已经抢到<br/>WE大会视频直播码！"};window.showTips=function(b){var b=b;ISSENDER||(b+=3),a(".we-pop").addClass("tips-hide"),a("#tips"+b).removeClass("tips-hide")};var h=a(".we-gamebox .fingerprint"),i=0;a(document).on("touchstart",".btn-fingerprint-left",function(){a(".pages").on("touchmove",b),ISSENDER?h.eq(2).addClass("on"):h.eq(0).addClass("on"),i+=1,c(i)}),a(document).on("touchend",".btn-fingerprint-left",function(){ISSENDER?h.eq(2).removeClass("on"):h.eq(0).removeClass("on"),i-=1,c(i)}),a(document).on("touchstart",".btn-fingerprint-right",function(){a(".pages").on("touchmove",b),ISSENDER?h.eq(3).addClass("on"):h.eq(1).addClass("on"),i+=2,c(i)}),a(document).on("touchend",".btn-fingerprint-right",function(){ISSENDER?h.eq(3).removeClass("on"):h.eq(1).removeClass("on"),i-=2,c(i)});var j={isTrigger:!1,timeRemain:180,isFirst:!0,interval:null,isDone:!1},k={isStart:!1,start:function(){console.log(1),0==k.isStart&&(k.isStart=!0,j.interval=setInterval(function(){var b={isSender:ISSENDER,status:i,key:KEY,timer:j.timeRemain};j.isTrigger&&(j.timeRemain-1<=0?(j.timeRemain=0,f("timeout"),clearInterval(j.interval)):j.timeRemain--,a(".count-down").html(j.timeRemain)),d(b,j.isFirst)},1e3))}};ISSENDER||(k.start(j.timeRemain),setTimeout(function(){showTips(1)},2e3)),a(".m-weixinShareLayer").tap(function(){a(this).hide()}),window.toGame=function(){var b=a(".pages .page").index(a(".page-game"));window.slideTo(b),a(".share-content").hide(),a(".game-content").css({display:"block"}),setTimeout(function(){showTips(1)},2e3);var c={isSender:ISSENDER,status:i,key:KEY,timer:j.timeRemain};d(c,j.isFirst),j.isFirst=!1}}(Zepto),!function(a){function b(){var b=a(".pages .page").index(a(".page.current")),c=a(".pages .page").index(a(".page-game"));i="这里没有商业或者公司竞争,只有前沿的科学思想和最新技术，还有天马行空般的想象力。",f=window.location.protocol+"//"+window.location.host+window.location.pathname,b==c&&"block"==a(".share-content").css("display")&&(i="帮我一起赢取we大会直播码吧",f=g),WeixinJSBridge.invoke("sendAppMessage",{img_url:e,img_width:"640",img_height:"640",link:f,desc:i,title:j},function(d){b==c&&"block"==a(".share-content").css("display")&&d.err_msg.indexOf("confirm")>=0&&window.toGame()})}function c(){var b=a(".pages .page").index(a(".page.current")),c=a(".pages .page").index(a(".page-game"));i="这里没有商业或者公司竞争,只有前沿的科学思想和最新技术，还有天马行空般的想象力。",f=window.location.protocol+"//"+window.location.host+window.location.pathname,b==c&&"block"==a(".share-content").css("display")&&(i="帮我一起赢取we大会直播码吧",f=g),WeixinJSBridge.invoke("shareTimeline",{img_url:e,img_width:"640",img_height:"640",link:f,desc:i,title:j},function(d){b==c&&"block"==a(".share-content").css("display")&&d.err_msg.indexOf("confirm")>=0&&window.toGame()})}function d(){var b=a(".pages .page").index(a(".page.current")),c=a(".pages .page").index(a(".page-game"));i="这里没有商业或者公司竞争,只有前沿的科学思想和最新技术，还有天马行空般的想象力。",b==c&&"block"==a(".share-content").css("display")&&(i="帮我一起赢取we大会直播码吧",f=g,window.toGame());var d=navigator.userAgent.toLowerCase();return"micromessenger"==d.match(/MicroMessenger/i)?!0:!1}var e="http://imgcache.qq.com/ac/www_tencent/we/2014/images/logo.png",f=window.location.protocol+"//"+window.location.host+window.location.pathname,g=f;if(ISSENDER){var h="from_key="+KEY;h=0==window.location.search.indexOf("?")?"&"+h:"?"+h,g=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search+h+window.location.hash}var i="这里没有商业或者公司竞争,只有前沿的科学思想和最新技术，还有天马行空般的想象力。",j="we大会";!d(),document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.on("menu:share:appmessage",function(){b()}),WeixinJSBridge.on("menu:share:timeline",function(){c()}),WeixinJSBridge.on("menu:share:weibo",function(){shareWeibo()})},!1)}(Zepto);